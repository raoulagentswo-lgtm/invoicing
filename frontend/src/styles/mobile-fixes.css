/**
 * Mobile Responsive Fixes
 * Targets 390px to 768px viewports
 * Override inline styles with !important for media queries
 * Date: 2026-02-17
 * 
 * Fixes for:
 * 1. Hit targets (44px minimum)
 * 2. Padding reductions on mobile
 * 3. Input/Button sizing
 * 4. Responsive grid/layout issues
 */

/* Ensure viewport configuration */
html, body {
  width: 100%;
  height: 100%;
  overflow-x: hidden; /* Prevent accidental horizontal scroll */
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* Mobile-specific overrides for hit targets and padding */
@media (max-width: 768px) {
  /* All buttons must be at least 44x44px */
  button,
  [type="button"],
  [type="submit"],
  [role="button"],
  .btn,
  .button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 0.75rem 1rem !important;
    font-size: 16px !important; /* Prevent iOS zoom */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Reduce excessive padding on containers */
  nav,
  [role="navigation"] {
    padding: var(--spacing-md) !important;
  }
  
  /* Reduce container padding */
  div[style*="padding: var(--spacing-lg)"],
  div[style*="padding: var(--spacing-xl)"] {
    padding: var(--spacing-md) !important;
  }

  /* All input fields must be at least 44px */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="date"],
  input[type="time"],
  textarea,
  select {
    min-height: 44px !important;
    padding: 0.75rem !important;
    font-size: 16px !important; /* Prevent iOS zoom */
    box-sizing: border-box !important;
  }

  /* Checkboxes & Radios need larger hit targets */
  input[type="checkbox"],
  input[type="radio"] {
    width: 24px !important;
    height: 24px !important;
    min-width: 24px !important;
    min-height: 24px !important;
    cursor: pointer !important;
  }

  /* Ensure labels have proper spacing from inputs */
  label {
    display: block !important;
    margin-bottom: 0.75rem !important;
    font-weight: 500 !important;
    min-height: 20px !important; /* Better touch target for label checkbox */
  }

  /* Form groups should have proper spacing */
  .form-group,
  [class*="form-group"],
  [class*="FormGroup"] {
    margin-bottom: 1.5rem !important;
  }
  
  /* Reduce margin/padding between form sections */
  div[style*="marginBottom: var(--spacing-xl)"],
  div[style*="marginBottom: var(--spacing-lg)"],
  div[style*="paddingBottom: var(--spacing-xl)"],
  div[style*="paddingBottom: var(--spacing-lg)"] {
    margin-bottom: 1rem !important;
    padding-bottom: 1rem !important;
  }
  
  /* Reduce spacing around borders */
  div[style*="borderBottom"],
  div[style*="borderTop"] {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  /* Reduce excessive padding on containers */
  .container,
  [class*="container"],
  [class*="Container"] {
    padding: 0.75rem !important;
  }

  /* Reduce page padding */
  [style*="padding: var(--spacing-xl)"],
  [style*="padding: 2rem"],
  [style*="padding: 32px"] {
    padding: 1rem !important;
  }

  /* Reduce padding for form sections */
  [style*="padding: 2rem"],
  [class*="form"] [style*="padding"] {
    padding: 1rem !important;
  }
  
  /* Handle grids - convert 2+ columns to 1 column on mobile */
  [style*="grid-template-columns: repeat(2"],
  [style*="grid-template-columns: repeat(3"],
  [style*="grid-template-columns: repeat(auto"] {
    grid-template-columns: 1fr !important;
  }
  
  /* Width-based responsive fixes */
  [style*="max-width: 420px"] {
    max-width: 100% !important;
  }
  
  [style*="min-width: 250px"],
  [style*="min-width: 300px"] {
    min-width: auto !important;
  }
  
  /* Ensure tables don't overflow */
  table {
    width: 100% !important;
    overflow-x: auto !important;
    display: block !important;
  }
  
  table thead,
  table tbody {
    display: block !important;
  }
  
  table tr {
    display: block !important;
    margin-bottom: 1rem !important;
  }
  
  table td,
  table th {
    display: block !important;
    padding: 0.5rem !important;
  }
}

/* Extra tight fixes for very small phones */
@media (max-width: 480px) {
  .container,
  [class*="container"],
  [class*="Container"] {
    padding: 0.75rem !important;
  }

  [style*="padding: var(--spacing-xl)"],
  [style*="padding: 2rem"],
  [style*="padding: 32px"] {
    padding: 0.75rem !important;
  }

  .form-group,
  [class*="form-group"],
  [class*="FormGroup"] {
    margin-bottom: 1rem !important;
  }
  
  /* Even more aggressive padding reduction */
  nav,
  [role="navigation"] {
    padding: 0.5rem !important;
  }
  
  /* Ensure all interactive elements remain tappable */
  button,
  [type="button"],
  [type="submit"],
  input[type="checkbox"],
  input[type="radio"],
  a[role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
    font-size: 16px !important;
  }

  /* Ensure text is readable */
  input,
  textarea,
  select,
  p,
  label {
    font-size: 14px !important;
  }
}

@media (max-width: 390px) {
  .container,
  [class*="container"],
  [class*="Container"] {
    padding: 0.5rem !important;
  }

  [style*="padding: var(--spacing-xl)"],
  [style*="padding: 2rem"],
  [style*="padding: 32px"],
  nav {
    padding: 0.5rem !important;
  }

  .form-group,
  [class*="form-group"],
  [class*="FormGroup"] {
    margin-bottom: 0.75rem !important;
  }
  
  /* Critical: Prevent overflow on very small screens */
  html, body {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  div[style*="padding"] {
    padding: 0.5rem !important;
  }
  
  /* Minimal padding for text containers */
  h1, h2, h3, h4, h5, h6 {
    margin: 0.5rem 0 !important;
  }
  
  /* Ensure buttons always fit */
  button,
  [type="button"],
  [type="submit"],
  a[role="button"] {
    padding: 0.5rem 1rem !important;
  }
}
